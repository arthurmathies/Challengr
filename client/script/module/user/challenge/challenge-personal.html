<!--

challenge-personal.html
loads all challenge related to the user

-->

<uib-tabset>

  <uib-tab heading="Your Challenges" active="challengeNC.tabs[1]">

    <p class="mk" ng-show="personalChallengeC.myChallenges.length === 0">Currently, no challenges to complete</p>
    <h1 class="mk" ng-show="personalChallengeC.myChallenges.length !== 0">You Got Challenged</h1>

    <div class="challenge" ng-repeat="challenge in personalChallengeC.myChallenges" ng-click="personalChallengeC.showDetail(challenge, $event)" ng-if="!challenge.notcompleted&&!challenge.completed" ng-init="personalChallengeC.initializeChallenge(challenge)">
      <div class="challenge--heading">
        <div class="type">
          <span>{{challenge.type}} - {{challenge.Challenger.firstName}} {{challenge.Challenger.lastName}}</span>
        </div>
        <div class="time">
          <i class="icon-clock-o"></i>
          <span>{{challenge.remaining}}</span>
        </div>
      </div>
      <div class="challenge--main">
        <div>
          <img class="challengedImage" ng-src="{{challenge.Challenger.photoURL}}">
        </div>
        <div>
          <span>{{challenge.title}}</span>
          <span>{{challenge.description}}</span>
        </div>
        <div>
          <a class="noViewChange" ng-click="personalChallengeC.increaseLike(challenge)">
            <i class="noViewChange icon-heart-empty"></i> {{challenge.likes}}
          </a>
          <a class="noViewChange">
            <i class="noViewChange icon-dollar-bill"></i> {{charityamount*100}}&#162;
          </a>
        </div>
      </div>

    </div>

  </uib-tab>

  <uib-tab heading="Challenges to Complete" active="challengeNC.tabs[2]" ng-init="personalChallengeC.readImposedChallenges()">

    <div class="challenge" ng-repeat="challenge in personalChallengeC.imposedChallenges" ng-click="personalChallengeC.showDetail(challenge, $event)" ng-if="!challenge.notcompleted&&!challenge.completed" ng-init="personalChallengeC.initializeChallenge(challenge)">
      <div class="challenge--heading">
        <div class="type">
          <span>{{challenge.type}} - {{challenge.Challenger.firstName}} {{challenge.Challenger.lastName}}</span>
        </div>
        <div class="time">
          <i class="icon-clock-o"></i>
          <span>{{challenge.remaining}}</span>
        </div>
      </div>
      <div class="challenge--main">
        <div>
          <img class="challengedImage" ng-src="{{challenge.Challenged.photoURL}}">
        </div>
        <div>
          <span>{{challenge.title}}</span>
          <span>{{challenge.description}}</span>
        </div>
        <div>
          <a class="noViewChange" ng-click="personalChallengeC.increaseLike(challenge)">
            <i class="noViewChange icon-heart-empty"></i> {{challenge.likes}}
          </a>
          <a class="noViewChange">
            {{charityamount*100}}&#162;
          </a>
        </div>
      </div>
    </div>

  </uib-tab>
  
</uib-tabset>